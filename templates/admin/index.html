{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block extrastyle %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'admin/css/dashboard.css' %}">
{% endblock %}


{% block content %}
<div class="dashboard-main">
    <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± -->
    <div class="reports-container">
        <div class="page-header">
            <h1 class="page-title">ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h1>
            <p class="page-subtitle">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</p>
            {% block welcome-msg %}
            {% translate 'Welcome:' %}
            <strong>{% firstof user.get_short_name user.get_username %}</strong>
            {% endblock %}
        </div>


        <!-- Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± -->
        <div class="report-section">

            <!-- Ø²Ø± Ù„ÙˆØ­Ø© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± -->
            <a href="/reports/" class="btn">
                ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            </a>

            <!-- Ø²Ø± Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙˆÙ‚Ø¹ -->
            {% if site_url %}
            <a href="{{ site_url }}" class="btn">
                ğŸŒ Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙˆÙ‚Ø¹
            </a>
            {% endif %}

            <!-- Ø²Ø± ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
            {% if user.has_usable_password %}
            <a href="{% url 'admin:password_change' %}" class="btn">
                ğŸ” ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
            </a>
            {% endif %}

        </div>
    </div>


    <!-- Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø© Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ† -->
    <div class="recent-actions-container">
        <div class="sidebar-header">
            <h3>ğŸ“Š Ø¢Ø®Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</h3>
        </div>
        <div class="sidebar-content">
            {% load log %}
            {% get_admin_log 10 as admin_log for_user user %}
            {% if not admin_log %}
            <div class="no-data">
                <div class="no-data-icon">ğŸ“</div>
                <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</p>
            </div>
            {% else %}
            <div class="actions-list">
                {% for entry in admin_log %}
                <a href="{% if entry.get_admin_url %}{{ entry.get_admin_url }}{% else %}#{% endif %}"
                    class="action-item {% if entry.is_addition %}add{% elif entry.is_change %}change{% elif entry.is_deletion %}delete{% endif %}">
                    <div class="action-icon">
                        {% if entry.is_addition %}â•
                        {% elif entry.is_change %}âœï¸
                        {% elif entry.is_deletion %}ğŸ—‘ï¸
                        {% else %}ğŸ“{% endif %}
                    </div>
                    <div class="action-details">
                        <div class="action-object">{{ entry.object_repr }}</div>
                        <div class="action-meta">
                            <span class="action-type">
                                {% if entry.content_type %}
                                {{ entry.content_type.name }}
                                {% else %}ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ{% endif %}
                            </span>
                            <span class="action-type">{{ entry.action_time|date:"H:i" }}</span>
                        </div>
                    </div>
                </a>
                {% endfor %}
            </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}